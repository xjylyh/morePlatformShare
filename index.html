<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>share</title>
    <style>
        *{margin:0;padding: 0;}
        body,html{
            width:100%;
            height:100%;
        }
        .main{
            width:100%;
            height:100%;
            background:#00ffaa;
            text-align: center;
        }
        .main>img{
            width:350px;
            height:350px;
        }
    </style>
</head>
<body>
    <div class="main">
        <button onclick="call()">通用分享</button>
        <button onclick="call('wechatFriend')">微信好友</button>
        <button onclick="call('wechatTimeline')">朋友圈</button>
        <button onclick="call('qqFriend')">QQ</button>
        <button onclick="call('qZone')">QQ空间</button>
        <button onclick="call('weibo')">微博</button>
        <button onclick="setTitle('h5ShareToNative')">设置标题</button>
    </div>
</body>
<script src="./jQuery.js"></script>
<script type="text/javascript" src="../h5ShareToNative.js"></script>
<script>
        var h5ShareToNative = new h5ShareToNative();
        var shareData = {
            title: 'h5ShareToNative',
            desc: 'h5ShareToNative是模仿ds',
            // 如果是微信该link的域名必须要在微信后台配置的安全域名之内的。
            link: 'https://github.com/xjylyh',
            icon: 'https://t11.baidu.com/it/u=1582047319,4217339679&fm=76',
            // 不要过于依赖以下两个回调，很多浏览器是不支持的
            success: function() {
                alert('success')
            },
            fail: function() {
                alert('fail')
            }
        }
        h5ShareToNative.setShareData(shareData)

        function call(command) {
            try {
                console.log('init');
                console.log(h5ShareToNative);
                h5ShareToNative.call(command);
            } catch (err) {
                // 如果不支持，你可以在这里做降级处理
                alert(err.message+11111);
            }
        }
        function setTitle(title) {
            h5ShareToNative.setShareData({
                title: title,
            })
        }
</script>
</html>